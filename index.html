<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Fluxograma de Decisão</title>
  <style>
    body {
      font-family: 'Roboto', sans-serif;
      background-color: #d3d3d3;
      margin: 0;
      padding: 0;
    }

    header {
      width: 100%;
      background-color: #666666;
      padding: 15px 20px;
      display: flex;
      justify-content: space-between; /* título à esquerda, botão à direita */
      align-items: center;
    }

    header h1 {
      color: white;
      font-size: 1.5rem;
      font-weight: 700;
      margin: 0;
    }

    .btn-formatos {
      background-color: #424141;
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 5px;
      font-size: 1rem;
      cursor: pointer;
    }

    .btn-formatos:hover {
      background-color: #6d6c6c;
    }

    .imagem-container {
      margin: 30px auto;
      max-width: 1200px;
      width: 90%;
      text-align: center;
    }

    .imagem-container img {
      width: 100%;
      height: auto;
      border-radius: 8px;
      box-shadow: 0 10px 15px rgba(0,0,0,0.2);
    }

    /* Menu popup */
    .formatos-menu {
      display: none;
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: white;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 20px 30px rgba(0,0,0,0.3);
      z-index: 2000;
      max-width: 520px;
      width: 90%;
      max-height: 80vh;
      overflow-y: auto;
    }

    .formatos-menu.active {
      display: block;
    }

    .formato-item {
      display: block;
      margin: 10px 0 6px;
      color: #444343;
      text-decoration: none;
      font-weight: 600;
    }

    .btn-baixar {
      display: inline-block;
      background-color: #666666;
      color: white;
      text-decoration: none;
      padding: 6px 12px;
      border-radius: 4px;
      font-size: 0.9rem;
      margin-bottom: 12px;
    }

    .btn-baixar:hover {
      background-color: #555555;
    }

    .menu-overlay {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(173, 173, 173, 0.6);
      z-index: 1500;
    }

    .menu-overlay.active {
      display: block;
    }

    .step-box {
      background: #f7f7f7;
      border: 1px solid #ddd;
      border-radius: 8px;
      padding: 10px;
      margin: 12px 0;
    }

    .step-box h3 {
      margin: 0 0 8px;
      font-size: 1rem;
      color: #333;
    }

    .step-box ul {
      margin: 0;
      padding-left: 20px;
      font-size: 0.92rem;
      color: #555;
    }

    .btn-fechar {
      background-color: #666666;
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 5px;
      cursor: pointer;
      margin-top: 15px;
    }

    .btn-fechar:hover {
      background-color: #6e6e6e;
    }
  </style>
</head>
<body>
  <header>
    <h1>FLUXOGRAMA DE DECISÃO</h1>
    <button class="btn-formatos" type="button" id="btnFormatos">≡ Passos do Fluxograma</button>
  </header>

  <div class="imagem-container">
    <img src="fluxograma.jpg" alt="Fluxograma de Decisão"
         onerror="this.onerror=null; this.src='https://via.placeholder.com/1200x800/666666/ffffff?text=Fluxograma+de+Decisão'">
  </div>

  <!-- Overlay -->
  <div class="menu-overlay" id="menuOverlay"></div>

  <!-- Menu de formatos -->
  <div class="formatos-menu" id="formatosMenu">
    

    

    
    <h2> Passos do Fluxograma</h2>

    <div class="step-box">
      <h3>1. Contenção e Preservação</h3>
      <ul>
        <li>1.0 Início</li>
        <li>1.1 Alerta de comprometimento de servidor</li>
        <li>1.2 Isolamento lógico imediato</li>
        <li>1.3 Capturar memória RAM</li>
        <li>1.4 Registro de sessões</li>
        <li>1.5 Monitoramento de conexões</li>
      </ul>
    </div>

    <div class="step-box">
      <h3>2. Análise e Decisão</h3>
      <ul>
        <li>2.1 Avaliar custo do bloqueio vs dano do malware</li>
        <li>2.2 Risco de propagação imediata?</li>
        <ul>
          <li>NÃO → 2.2(a) Manter servidor offline</li>
          <li>NÃO → 2.2(b) Não bloquear servidor</li>
          <li>SIM → 2.2(c) Bloquear / Filtrar servidor</li>
        </ul>
        <li>2.3 Contatar responsável pelo servidor</li>
        <li>2.4 Aguardar resolução e feedback DSInf</li>
      </ul>
    </div>

    <div class="step-box">
      <h3>3. Erradicação e Recuperação</h3>
      <ul>
        <li>3.1 Incidente resolvido?</li>
        <ul>
          <li>NÃO → 3.2 Reforçar alertas SIEM/EDR</li>
          <li>NÃO → 3.3 Auditoria de logs</li>
          <li>NÃO → 3.4 Correlação de eventos</li>
          <li>SIM → 3.5 Reintegrar ou manter isolado?</li>
          <ul>
            <li>Manter isolado → 3.5(a) Documentar justificativa</li>
            <li>Reintegrar → 3.5(b) Restaurar acesso normal</li>
          </ul>
        </ul>
        <li>3.6 Fim</li>
      </ul>
    </div>

    <div class="step-box">
      <h3>4. Recuperação e Conformidade</h3>
      <ul>
        <li>4.1 Validar reintegração segura</li>
        <li>4.2 Checar conformidade técnica e regulatória</li>
      </ul>
    </div>

    <div class="step-box">
      <h3>5. Atividades Pós-Incidente</h3>
      <ul>
        <li>5.1 Documentar lições aprendidas</li>
        <li>5.2 Atualizar playbooks e fluxogramas</li>
        <li>5.3 Treinar equipe com base no caso real</li>
        <li>5.4 Reportar métricas e indicadores</li>
      </ul>
    </div>

    <button class="btn-fechar" type="button" id="btnFechar">Fechar</button>
  </div>

  <script>
    // Conectar eventos ao botão no cabeçalho e ao overlay/fechar
    (function() {
      const btnFormatos = document.getElementById('btnFormatos');
      const formatosMenu = document.getElementById('formatosMenu');
      const menuOverlay = document.getElementById('menuOverlay');
      const btnFechar = document.getElementById('btnFechar');

      function openMenu() {
        formatosMenu.classList.add('active');
        menuOverlay.classList.add('active');
      }

      function closeMenu() {
        formatosMenu.classList.remove('active');
        menuOverlay.classList.remove('active');
      }

      if (btnFormatos && formatosMenu && menuOverlay && btnFechar) {
        btnFormatos.addEventListener('click', openMenu);
        btnFechar.addEventListener('click', closeMenu);
        menuOverlay.addEventListener('click', closeMenu);
      }
    })();
  </script>
</body>
</html>